  // sets the cause of the incoming ioe to be the stack
  // trace when the offending file name was opened
  private synchronized <T extends Throwable> T fillOpenTrace(T t, String name, boolean input) {
    for (Map.Entry<Closeable, Exception> ent : openFileHandles.entrySet()) {
      if (input
          && ent.getKey() instanceof MockIndexInputWrapper
          && ((MockIndexInputWrapper) ent.getKey()).name.equals(name)) {
        t.initCause(ent.getValue());
        break;
      } else if (!input
          && ent.getKey() instanceof MockIndexOutputWrapper
          && ((MockIndexOutputWrapper) ent.getKey()).name.equals(name)) {
        t.initCause(ent.getValue());
        break;
      }
    }
    return t;
  }

