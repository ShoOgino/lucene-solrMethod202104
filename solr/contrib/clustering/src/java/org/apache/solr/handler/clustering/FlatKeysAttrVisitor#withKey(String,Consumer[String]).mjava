  private void withKey(String key, Consumer<String> pathConsumer) {
    keyPath.addLast(key);
    try {
      String path = String.join(".", keyPath);
      pathConsumer.accept(path);
    } finally {
      keyPath.removeLast();
    }
  }

