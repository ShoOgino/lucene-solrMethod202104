  void initCore(SolrCore core) {
    this.coreName = core.getName();
    this.config = core.getSolrConfig();
    this.coreId = core.uniqueId;
    this.coreContainer = core.getCoreContainer();
    SolrCore.Provider coreProvider = core.coreProvider;

    this.coreReloadingClassLoader = new PackageListeningClassLoader(core.getCoreContainer(),
            this, s -> config.maxPackageVersion(s), null){
      @Override
      protected void doReloadAction(Ctx ctx) {
        log.info("Core reloading classloader issued reload for: {}/{} ", coreName, coreId);
        coreProvider.reload();
      }
    };
    core.getPackageListeners().addListener(coreReloadingClassLoader, true);

  }

