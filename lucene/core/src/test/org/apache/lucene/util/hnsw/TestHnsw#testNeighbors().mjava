  public void testNeighbors() {
    // make sure we have the sign correct
    Neighbors nn = Neighbors.create(2, VectorValues.SearchStrategy.DOT_PRODUCT_HNSW);
    assertTrue(nn.insertWithOverflow(2, 0.5f));
    assertTrue(nn.insertWithOverflow(1, 0.2f));
    assertTrue(nn.insertWithOverflow(3, 1f));
    assertEquals(0.5f, nn.topScore(), 0);
    nn.pop();
    assertEquals(1f, nn.topScore(), 0);
    nn.pop();

    Neighbors fn = Neighbors.create(2, VectorValues.SearchStrategy.EUCLIDEAN_HNSW);
    assertTrue(fn.insertWithOverflow(2, 2));
    assertTrue(fn.insertWithOverflow(1, 1));
    assertFalse(fn.insertWithOverflow(3, 3));
    assertEquals(2f, fn.topScore(), 0);
    fn.pop();
    assertEquals(1f, fn.topScore(), 0);
  }

