   /**
   * Calculates a similarity score between the two vectors with specified function.
   */
  public static float compare(float[] v1, float[] v2, ScoreFunction scoreFunction) {
    assert v1.length == v2.length : "attempt to compare vectors of lengths: " + v1.length + " " + v2.length;
    return scoreFunction.score(v1, v2);
  }

