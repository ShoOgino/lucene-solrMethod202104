  private static AffixCondition regexpCondition(AffixKind kind, String condition, int charCount) {
    boolean forSuffix = kind == AffixKind.SUFFIX;
    CharacterRunAutomaton automaton =
        new CharacterRunAutomaton(new RegExp(escapeDash(condition), RegExp.NONE).toAutomaton());
    return (word, offset, length) ->
        length >= charCount
            && automaton.run(word, forSuffix ? offset + length - charCount : offset, charCount);
  }

