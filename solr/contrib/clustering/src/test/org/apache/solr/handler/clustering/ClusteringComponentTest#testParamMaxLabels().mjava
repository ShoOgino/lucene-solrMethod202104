  /**
   * Test maximum label truncation.
   */
  @Test
  public void testParamMaxLabels() throws Exception {
    List<Cluster<SolrDocument>> clusters = clusters("mock", QUERY_TESTSET_SAMPLE_DOCUMENTS, params -> {
      params.set("labelsPerCluster", "5");
      params.set(EngineParameters.PARAM_INCLUDE_OTHER_TOPICS, "false");
      params.set(EngineParameters.PARAM_MAX_LABELS, "3");
    });

    clusters.forEach(c -> {
      MatcherAssert.assertThat(c.getLabels(), Matchers.hasSize(3));
    });
  }

