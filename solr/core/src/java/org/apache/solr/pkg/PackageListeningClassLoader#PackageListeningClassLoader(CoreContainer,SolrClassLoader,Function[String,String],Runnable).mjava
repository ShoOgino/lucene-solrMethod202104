    /**
     * @param fallbackClassLoader The {@link SolrClassLoader} to use if no package is specified
     * @param pkgVersionSupplier Get the version configured for a given package
     * @param onReload The callback function that should be run if a package is updated
     */
    public PackageListeningClassLoader(CoreContainer coreContainer,
                                       SolrClassLoader fallbackClassLoader,
                                       Function<String, String> pkgVersionSupplier,
                                       Runnable onReload) {
        this.coreContainer = coreContainer;
        this.fallbackClassLoader = fallbackClassLoader;
        this.pkgVersionSupplier = pkgVersionSupplier;
        this.onReload = () -> {
            packageVersions = new ConcurrentHashMap<>();
            classNameVsPackageName = new ConcurrentHashMap<>();
            onReload.run();
        };
    }

