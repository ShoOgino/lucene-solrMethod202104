  /** returns combined char if we successfully combined the voice mark, otherwise original char */
  private int combineVoiceMark(int ch, int voiceMark) {
    assert voiceMark == HW_KATAKANA_SEMI_VOICED_MARK || voiceMark == HW_KATAKANA_VOICED_MARK;
    if (ch >= 0x30A6 && ch <= 0x30FD) {
      ch +=
          (voiceMark == HW_KATAKANA_SEMI_VOICED_MARK)
              ? KANA_COMBINE_SEMI_VOICED[prevChar - 0x30A6]
              : KANA_COMBINE_VOICED[prevChar - 0x30A6];
    }
    return ch;
  }

