  @Override
  public boolean onChange(Map<String, Object> properties) {
    refresh();
    Phaser localPhaser = phaser; // volatile read
    if (localPhaser != null) {
      assert localPhaser.getRegisteredParties() == 1;
      localPhaser.arrive(); // we should be the only ones registered, so this will advance phase each time
    }
    return false;
  }

