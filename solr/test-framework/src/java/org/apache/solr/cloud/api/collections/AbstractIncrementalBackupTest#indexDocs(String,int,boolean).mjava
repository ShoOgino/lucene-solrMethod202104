    private void indexDocs(String collectionName, int numDocs, boolean useUUID) throws Exception {
        Random random = new Random(docsSeed);

        List<SolrInputDocument> docs = new ArrayList<>(numDocs);
        for (int i=0; i<numDocs; i++) {
            SolrInputDocument doc = new SolrInputDocument();
            doc.addField("id", (useUUID ? java.util.UUID.randomUUID().toString() : i));
            doc.addField("shard_s", "shard" + (1 + random.nextInt(NUM_SHARDS))); // for implicit router
            docs.add(doc);
        }

        CloudSolrClient client = cluster.getSolrClient();
        client.add(collectionName, docs); //batch
        client.commit(collectionName);

        log.info("Indexed {} docs to collection: {}", numDocs, collectionName);
    }

