  private boolean hasStemWithFlags(List<CharsRef> stems, char[] flags) {
    for (CharsRef stem : stems) {
      IntsRef forms = dictionary.lookupWord(stem.chars, stem.offset, stem.length);
      if (forms != null && hasAllFlags(flags, forms)) {
        return true;
      }
    }
    return false;
  }

