  public void testEmptyIndex() throws Exception {
    // some simple sanity checks that collapse queries against empty indexes don't match any docs
    // (or throw any errors)
    
    doTestEmptyIndex();
    
    assertU(adoc(dupFields(sdoc("id", "p1",
                                "block_i", 1, 
                                "skus", sdocs(dupFields(sdoc("id", "p1s1", "block_i", 1, "txt_t", "a  b  c  d  e ", "num_i", 42)),
                                              dupFields(sdoc("id", "p1s2", "block_i", 1, "txt_t", "a  XX c  d  e ", "num_i", 10)),
                                              dupFields(sdoc("id", "p1s3", "block_i", 1, "txt_t", "XX b  XX XX e ", "num_i", 777)),
                                              dupFields(sdoc("id", "p1s4", "block_i", 1, "txt_t", "a  XX c  d  XX", "num_i", 6))
                                              )))));
    assertU(commit());
    assertU(delQ("_root_:p1")); // avoid *:* so we don't get low level deleteAll optimization
    assertU(commit());
    
    doTestEmptyIndex();
    
    clearIndex();
    assertU(commit());

    doTestEmptyIndex();
  }

