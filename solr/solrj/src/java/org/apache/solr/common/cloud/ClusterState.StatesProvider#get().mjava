    @Override
    public Optional<ReplicaStatesProvider> get() {
      return isPerReplicaState ? Optional.of(this) : Optional.empty();
    }

