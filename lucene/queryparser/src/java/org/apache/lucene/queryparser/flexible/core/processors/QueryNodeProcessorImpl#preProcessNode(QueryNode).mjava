  /**
   * This method is invoked for every node when walking down the tree.
   *
   * @param node the query node to be pre-processed
   * @return a query node
   * @throws QueryNodeException if something goes wrong during the query node processing
   */
  protected abstract QueryNode preProcessNode(QueryNode node) throws QueryNodeException;

