  private SimpleMap<String> wrap(SimpleMap<String> delegate) {
    return new SimpleMap<>() {
          @Override
          public String get(String key) {
            return subtituteVal(delegate.get(key));
          }

          @Override
          public void forEachEntry(BiConsumer<String, ? super String> fun) {
            delegate.forEachEntry((k, v) -> fun.accept(k, subtituteVal(v)));
          }

          @Override
          public int size() {
            return delegate.size();
          }
        };
  }

