  public void testDegenerateIntervals(String field) throws IOException {
    new IndexBuilder(this::toField)
        .doc(field, fmt("foo %s bar", STOPWORD1))
        .build(
            analyzer,
            reader -> {
              assertThat(
                  highlights(
                      reader,
                      new IntervalQuery(field, Intervals.extend(Intervals.term("bar"), 1, 3))),
                  containsInAnyOrder(fmt("0: (%s: 'foo %s >bar<')", field, STOPWORD1)));

              assertThat(
                  highlights(
                      reader,
                      new IntervalQuery(field, Intervals.extend(Intervals.term("bar"), 5, 100))),
                  containsInAnyOrder(fmt("0: (%s: '>foo %s bar<')", field, STOPWORD1)));
            });
  }

