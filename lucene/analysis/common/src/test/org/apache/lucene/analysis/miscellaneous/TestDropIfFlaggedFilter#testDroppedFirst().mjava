  /**
   * Test where the first and last token are dropped.
   */
  public void testDroppedFirst() throws Exception {

    Token token = new Token("foo", 0, 2);
    Token token2 = new Token("bar", 4, 6);
    Token token3 = new Token("baz", 8, 10);
    Token token4 = new Token("bam", 12, 14);

    token.setFlags(4); // 100 flag matches (drop)
    token2.setFlags(1);// 001 no flags match
    token3.setFlags(2);// 010 no flags match
    token4.setFlags(7);// 111 flag matches (drop)

    TokenStream ts = new CannedTokenStream(token, token2, token3, token4);
    ts = new DropIfFlaggedFilter(ts, 4) ;

    assertTokenStreamContents(ts, new String[]{
         "bar", "baz"}, new int[]{ 4, 8}, new int[]{6, 10}, new int[]{2, 1});
  }

