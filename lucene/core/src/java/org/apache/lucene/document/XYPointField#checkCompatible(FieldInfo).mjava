  /** helper: checks a fieldinfo and throws exception if its definitely not a XYPoint */
  static void checkCompatible(FieldInfo fieldInfo) {
    // point/dv properties could be "unset", if you e.g. used only StoredField with this same name
    // in the segment.
    if (fieldInfo.getPointDimensionCount() != 0
        && fieldInfo.getPointDimensionCount() != TYPE.pointDimensionCount()) {
      throw new IllegalArgumentException(
          "field=\""
              + fieldInfo.name
              + "\" was indexed with numDims="
              + fieldInfo.getPointDimensionCount()
              + " but this point type has numDims="
              + TYPE.pointDimensionCount()
              + ", is the field really a XYPoint?");
    }
    if (fieldInfo.getPointNumBytes() != 0 && fieldInfo.getPointNumBytes() != TYPE.pointNumBytes()) {
      throw new IllegalArgumentException(
          "field=\""
              + fieldInfo.name
              + "\" was indexed with bytesPerDim="
              + fieldInfo.getPointNumBytes()
              + " but this point type has bytesPerDim="
              + TYPE.pointNumBytes()
              + ", is the field really a XYPoint?");
    }
  }

