  /**
   * Get checksum of {@code fileName} at {@code dir}.
   * This method only be called on Lucene index files
   * @since 8.3.0
   */
  default Checksum checksum(Directory dir, String fileName) throws IOException {
    try (IndexInput in = dir.openChecksumInput(fileName, IOContext.READONCE)) {
      return new Checksum(CodecUtil.retrieveChecksum(in), in.length());
    }
  }

