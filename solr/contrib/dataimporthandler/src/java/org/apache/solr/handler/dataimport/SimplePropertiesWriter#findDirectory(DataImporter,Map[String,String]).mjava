  protected void findDirectory(DataImporter dataImporter, Map<String, String> params) {
    if(params.get(DIRECTORY) != null) {
      configDir = params.get(DIRECTORY);
    } else {
      SolrCore core = dataImporter.getCore();
      if (core == null) {
        configDir = SolrPaths.locateSolrHome().toString();
      } else {
        configDir = core.getResourceLoader().getConfigDir();
      }
    }
  }

