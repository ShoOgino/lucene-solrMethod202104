  private StringBuilder appendStates(StringBuilder sb) {
    states.forEachEntry(new BiConsumer<String, State>() {
      int count = 0;

      @Override
      public void accept(String s, State state) {
        if (count++ > 0) sb.append(", ");
        sb.append(state.asString);
        for (State d : state.getDuplicates()) sb.append(d.asString);
      }
    });
    return sb;
  }

