  @Override
  public synchronized void stop() {
    state = State.STOPPING;
    doStop();
    state = State.STOPPED;
  }

