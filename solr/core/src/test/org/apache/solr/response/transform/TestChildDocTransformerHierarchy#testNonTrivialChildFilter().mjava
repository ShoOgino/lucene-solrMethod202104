  @Test
  public void testNonTrivialChildFilter() throws Exception {
    // just check we don't throw an exception. This used to throw before SOLR-15152
    assertQ(
            req(
                    "q",
                    "*:*",
                    "sort",
                    "id asc",
                    "fl",
                    "*, _nest_path_, [child childFilter='type_s:Regular OR type_s:Chocolate']",
                    "fq",
                    fqToExcludeNonTestedDocs));
  }

