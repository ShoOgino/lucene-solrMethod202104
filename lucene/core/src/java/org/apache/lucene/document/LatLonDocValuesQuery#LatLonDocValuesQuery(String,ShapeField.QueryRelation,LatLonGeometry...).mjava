  LatLonDocValuesQuery(
      String field, ShapeField.QueryRelation queryRelation, LatLonGeometry... geometries) {
    if (field == null) {
      throw new IllegalArgumentException("field must not be null");
    }
    if (queryRelation == null) {
      throw new IllegalArgumentException("queryRelation must not be null");
    }
    if (queryRelation == ShapeField.QueryRelation.WITHIN) {
      for (LatLonGeometry geometry : geometries) {
        if (geometry instanceof Line) {
          // TODO: line queries do not support within relations
          throw new IllegalArgumentException(
              "LatLonDocValuesPointQuery does not support "
                  + ShapeField.QueryRelation.WITHIN
                  + " queries with line geometries");
        }
      }
    }
    if (queryRelation == ShapeField.QueryRelation.CONTAINS) {
      for (LatLonGeometry geometry : geometries) {
        if ((geometry instanceof Point) == false) {
          throw new IllegalArgumentException(
              "LatLonDocValuesPointQuery does not support "
                  + ShapeField.QueryRelation.CONTAINS
                  + " queries with non-points geometries");
        }
      }
    }
    this.field = field;
    this.geometries = geometries;
    this.queryRelation = queryRelation;
    this.component2D = LatLonGeometry.create(geometries);
  }

