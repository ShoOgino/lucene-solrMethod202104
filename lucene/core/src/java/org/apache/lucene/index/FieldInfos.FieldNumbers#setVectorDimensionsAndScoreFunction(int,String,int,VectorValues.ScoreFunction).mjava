    synchronized void setVectorDimensionsAndScoreFunction(int number, String name, int numDimensions, VectorValues.ScoreFunction scoreFunction) {
      if (numDimensions <= 0) {
        throw new IllegalArgumentException("vector numDimensions must be > 0; got " + numDimensions);
      }
      if (numDimensions > VectorValues.MAX_DIMENSIONS) {
        throw new IllegalArgumentException("vector numDimensions must be <= VectorValues.MAX_DIMENSIONS (=" + VectorValues.MAX_DIMENSIONS + "); got " + numDimensions);
      }
      verifyConsistentVectorProperties(number, name, numDimensions, scoreFunction);
      vectorProps.put(name, new FieldVectorProperties(numDimensions, scoreFunction));
    }

