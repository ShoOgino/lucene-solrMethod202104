  /**
   * This loader will delegate to Solr's classloader when possible,
   * otherwise it will attempt to resolve resources using any jar files
   * found in the "lib/" directory in the specified instance directory.
   */
  public SolrResourceLoader(Path instanceDir, ClassLoader parent) {
    if (instanceDir == null) {
      throw new NullPointerException("SolrResourceLoader instanceDir must be non-null");
    }

    this.instanceDir = instanceDir;
    log.debug("new SolrResourceLoader for directory: '{}'", this.instanceDir);

    if (parent == null) {
      parent = getClass().getClassLoader();
    }
    this.classLoader = URLClassLoader.newInstance(new URL[0], parent);
  }

