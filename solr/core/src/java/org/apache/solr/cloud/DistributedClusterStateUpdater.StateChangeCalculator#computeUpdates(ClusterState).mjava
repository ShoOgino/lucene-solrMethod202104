    /**
     * Given an initial {@link ClusterState}, computes after applying updates the cluster state to be written to state.json
     * (made available through {@link #getUpdatedClusterState()}) as well as the list of per replica operations (made available
     * through {@link #getPerReplicaStatesOps()}). Any or both of these methods will return {@code null} if there is no
     * corresponding update to apply.
     */
    void computeUpdates(ClusterState currentState);

