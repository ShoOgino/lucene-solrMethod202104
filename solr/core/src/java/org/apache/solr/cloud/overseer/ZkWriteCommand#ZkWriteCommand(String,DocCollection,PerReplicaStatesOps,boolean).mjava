  public ZkWriteCommand(String name, DocCollection collection, PerReplicaStatesOps replicaOps, boolean persistCollState) {
    boolean isPerReplicaState = collection.isPerReplicaState();
    this.name = name;
    this.collection = collection;
    this.noop = false;
    this.ops = isPerReplicaState ? replicaOps : null;
    this.persistCollState = isPerReplicaState ? persistCollState : true;
  }

