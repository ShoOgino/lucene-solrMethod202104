  public void testZkBehavior() throws Exception {
    MiniSolrCloudCluster cluster =
        configureCluster(4)
            .withJettyConfig(jetty -> jetty.enableV2(true))
            .configure();
    try {
      SolrZkClient zkClient = cluster.getZkClient();
      zkClient.create("/test-node", null, CreateMode.PERSISTENT, true);

      Stat stat = zkClient.exists("/test-node", null, true);
      int cversion = stat.getCversion();
      List<Op> ops = Arrays.asList(
          Op.create("/test-node/abc", null, zkClient.getZkACLProvider().getACLsToAdd("/test-node/abc"), CreateMode.PERSISTENT),
          Op.delete("/test-node/abc", -1));
      zkClient.multi(ops, true);
      stat = zkClient.exists("/test-node", null, true);
      assertTrue(stat.getCversion() >= cversion + 2);
    } finally {
      cluster.shutdown();
    }

  }

