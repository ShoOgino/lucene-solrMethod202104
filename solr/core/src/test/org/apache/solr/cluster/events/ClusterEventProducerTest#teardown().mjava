  @After
  public void teardown() throws Exception {
    System.clearProperty("enable.packages");
    if (eventsListener != null) {
      cluster.getOpenOverseer().getCoreContainer().getClusterEventProducer().unregisterListener(eventsListener);
      eventsListener.events.clear();
    }
    V2Request readPluginState = new V2Request.Builder("/cluster/plugin")
        .forceV2(true)
        .withMethod(GET)
        .build();
    V2Response rsp = readPluginState.process(cluster.getSolrClient());
    if (rsp._getStr("/plugin/" + ClusterEventProducer.PLUGIN_NAME + "/class", null) != null) {
      V2Request req = new V2Request.Builder("/cluster/plugin")
          .withMethod(POST)
          .withPayload(Collections.singletonMap("remove", ClusterEventProducer.PLUGIN_NAME))
          .build();
      req.process(cluster.getSolrClient());
    }
  }

