    BufferedVectorValues(DocsWithFieldSet docsWithField, List<float[]> vectors, int dimension, VectorValues.ScoreFunction scoreFunction) {
      this.docsWithField = docsWithField;
      this.vectors = vectors;
      this.dimension = dimension;
      this.scoreFunction = scoreFunction;
      buffer = ByteBuffer.allocate(dimension * Float.BYTES);
      binaryValue = new BytesRef(buffer.array());
      raBuffer = ByteBuffer.allocate(dimension * Float.BYTES);
      raBinaryValue = new BytesRef(raBuffer.array());
      docsWithFieldIter = docsWithField.iterator();
    }

