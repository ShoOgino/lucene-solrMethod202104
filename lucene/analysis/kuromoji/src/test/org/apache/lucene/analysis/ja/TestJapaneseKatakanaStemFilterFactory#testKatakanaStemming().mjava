  public void testKatakanaStemming() throws IOException {
    JapaneseTokenizerFactory tokenizerFactory = new JapaneseTokenizerFactory(new HashMap<>());
    tokenizerFactory.inform(new StringMockResourceLoader(""));
    TokenStream tokenStream = tokenizerFactory.create(newAttributeFactory());
    ((Tokenizer) tokenStream).setReader(new StringReader("明後日パーティーに行く予定がある。図書館で資料をコピーしました。"));
    JapaneseKatakanaStemFilterFactory filterFactory =
        new JapaneseKatakanaStemFilterFactory(new HashMap<>());

    assertTokenStreamContents(
        filterFactory.create(tokenStream),
        new String[] {
          // パーティー should be stemmed
          "明後日",
          "パーティ",
          "に",
          "行く",
          "予定",
          "が",
          "ある",
          // コピー should not be stemmed
          "図書館",
          "で",
          "資料",
          "を",
          "コピー",
          "し",
          "まし",
          "た"
        });
  }

