  /**
   * Adds a value in log(size) time. If one tries to add more values than maxSize from initialize an
   * {@link ArrayIndexOutOfBoundsException} is thrown, unless maxSize is {@link #UNBOUNDED}.
   *
   * @return the new 'top' element in the queue.
   */
  public final long push(long element) {
    size++;
    if (maxSize == UNBOUNDED && size == heap.length) {
      heap = ArrayUtil.grow(heap, (size * 3 + 1) / 2);
    }
    heap[size] = element;
    upHeap(size);
    return heap[1];
  }

