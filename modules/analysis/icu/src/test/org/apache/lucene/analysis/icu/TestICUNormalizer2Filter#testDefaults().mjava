  public void testDefaults() throws IOException {
    Analyzer a = new Analyzer() {
      @Override
      public TokenStream tokenStream(String fieldName, Reader reader) {
        return new ICUNormalizer2Filter(
            new WhitespaceTokenizer(TEST_VERSION_CURRENT, reader));
      }
    };

    // case folding
    assertAnalyzesTo(a, "This is a test", new String[] { "this", "is", "a", "test" });

    // case folding
    assertAnalyzesTo(a, "RuÃŸ", new String[] { "russ" });
    
    // case folding
    assertAnalyzesTo(a, "ÎœÎ†ÎªÎŸÎ£", new String[] { "Î¼Î¬ÏŠÎ¿Ïƒ" });
    assertAnalyzesTo(a, "ÎœÎ¬ÏŠÎ¿Ï‚", new String[] { "Î¼Î¬ÏŠÎ¿Ïƒ" });

    // supplementary case folding
    assertAnalyzesTo(a, "ğ–", new String[] { "ğ¾" });
    
    // normalization
    assertAnalyzesTo(a, "ï´³ï´ºï°§", new String[] { "Ø·Ù…Ø·Ù…Ø·Ù…" });

    // removal of default ignorables
    assertAnalyzesTo(a, "à¤•à¥â€à¤·", new String[] { "à¤•à¥à¤·" });
  }

