  /**
   * Test the straight forward cases. When all flags match the token should be dropped
   */
  public void testDropped() throws Exception {

    Token token = new Token("foo", 0, 2);
    Token token2 = new Token("bar", 4, 6);
    Token token3 = new Token("baz", 8, 10);
    Token token4 = new Token("bam", 12, 14);

    token.setFlags(0); // 000 no flags match
    token2.setFlags(1);// 001 one flag matches
    token3.setFlags(2);// 010 no flags match
    token4.setFlags(7);// 111 both flags match (drop)

    TokenStream ts = new CannedTokenStream(token, token2, token3, token4);
    ts = new DropIfFlaggedFilter(ts, 5); // 101

    assertTokenStreamContents(ts, new String[]{
        "foo", "bar", "baz"}, new int[]{0, 4, 8}, new int[]{2, 6, 10}, new int[]{1, 1, 1});
  }

