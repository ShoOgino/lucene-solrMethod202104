  // LUCENE-3382 -- make sure we get exception if the directory really does not exist.
  public void testNoDir() throws Throwable {
    Path tempDir = createTempDir("doesnotexist");
    IOUtils.rm(tempDir);
    try (Directory dir = getDirectory(tempDir)) {
      expectThrowsAnyOf(
          Arrays.asList(NoSuchFileException.class, IndexNotFoundException.class),
          () -> {
            DirectoryReader.open(dir);
          });
    }
  }

