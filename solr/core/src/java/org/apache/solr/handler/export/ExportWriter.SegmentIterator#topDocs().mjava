    private void topDocs() throws IOException {
      try {
        queue.reset();
        SortDoc top = queue.top();
        this.sortDoc.setNextReader(context);
        DocIdSetIterator it = new BitSetIterator(bits, 0); // cost is not useful here
        int docId;
        while ((docId = it.nextDoc()) != DocIdSetIterator.NO_MORE_DOCS) {
          this.sortDoc.setValues(docId);
          if (top.lessThan(this.sortDoc)) {
            top.setValues(this.sortDoc);
            top = queue.updateTop();
          }
        }

        //Pop the queue and load up the array.
        index = -1;

        SortDoc _sortDoc;
        while ((_sortDoc = queue.pop()) != null) {
          if (_sortDoc.docId > -1) {
            outDocs[++index] = _sortDoc;
          }
        }
      } catch (Exception e) {
        log.error("Segment Iterator Error:", e);
        throw new IOException(e);
      } finally {

      }
    }

