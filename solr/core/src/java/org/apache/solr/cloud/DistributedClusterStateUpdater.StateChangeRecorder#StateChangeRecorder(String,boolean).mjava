    private StateChangeRecorder(String collectionName, boolean isCollectionCreation) {
      if (collectionName == null) {
        final String err = "Internal bug. collectionName=null (isCollectionCreation=" + isCollectionCreation + ")";
        log.error(err);
        throw new SolrException(SolrException.ErrorCode.SERVER_ERROR, err);
      }
      mutations = new LinkedList<>();
      this.collectionName = collectionName;
      this.isCollectionCreation = isCollectionCreation;
    }

