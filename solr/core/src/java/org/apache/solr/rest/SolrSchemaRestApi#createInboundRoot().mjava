  /**
   * Bind URL paths to the appropriate ServerResource subclass. 
   */
  @Override
  public synchronized Restlet createInboundRoot() {

    log.info("createInboundRoot started for /schema");

    router.attach("", SchemaResource.class);
    // Allow a trailing slash on full-schema requests
    router.attach("/", SchemaResource.class);
    
    router.attach(FIELDS_PATH, FieldCollectionResource.class);
    // Allow a trailing slash on collection requests
    router.attach(FIELDS_PATH + "/", FieldCollectionResource.class);
    router.attach(FIELDS_PATH + NAME_SEGMENT, FieldResource.class);

    router.attach(DYNAMIC_FIELDS_PATH, DynamicFieldCollectionResource.class);
    // Allow a trailing slash on collection requests
    router.attach(DYNAMIC_FIELDS_PATH + "/", DynamicFieldCollectionResource.class);
    router.attach(DYNAMIC_FIELDS_PATH + NAME_SEGMENT, DynamicFieldResource.class);

    router.attach(FIELDTYPES_PATH, FieldTypeCollectionResource.class);
    // Allow a trailing slash on collection requests
    router.attach(FIELDTYPES_PATH + "/", FieldTypeCollectionResource.class);
    router.attach(FIELDTYPES_PATH + NAME_SEGMENT, FieldTypeResource.class);

    router.attach(COPY_FIELDS_PATH, CopyFieldCollectionResource.class);
    // Allow a trailing slash on collection requests
    router.attach(COPY_FIELDS_PATH + "/", CopyFieldCollectionResource.class);
    
    router.attach(NAME_PATH, SchemaNameResource.class);
    
    router.attach(VERSION_PATH, SchemaVersionResource.class);
    
    router.attach(UNIQUE_KEY_FIELD_PATH, UniqueKeyFieldResource.class);

    router.attach(DEFAULT_SEARCH_FIELD_PATH, DefaultSearchFieldResource.class);
    
    router.attach(SIMILARITY_PATH, SchemaSimilarityResource.class);

    // At present solrQueryParser only contains defaultOperator, but there may be more children in the future
    router.attach(SOLR_QUERY_PARSER_PATH, SolrQueryParserResource.class);
    router.attach(DEFAULT_OPERATOR_PATH, SolrQueryParserDefaultOperatorResource.class);

    router.attach(ZK_VERSION_PATH, SchemaZkVersionResource.class);
    
    router.attachDefault(RestManager.ManagedEndpoint.class);
    
    // attach all the dynamically registered schema resources
    RestManager.getRestManager(SolrRequestInfo.getRequestInfo())
        .attachManagedResources(RestManager.SCHEMA_BASE_PATH, router);

    log.info("createInboundRoot complete for /schema");

    return router;
  }  

