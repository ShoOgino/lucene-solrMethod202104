    private RestoreOnExistingCollection(RestoreContext rc) {
      int numShardsOfBackup = rc.backupCollectionState.getSlices().size();
      int numShards = rc.zkStateReader.getClusterState().getCollection(rc.restoreCollectionName).getSlices().size();

      if (numShardsOfBackup != numShards) {
        String msg = String.format(Locale.ROOT, "Unable to restoring since number of shards in backup " +
                "and specified collection does not match, numShardsOfBackup:%d numShardsOfCollection:%d", numShardsOfBackup, numShards);
        throw new SolrException(ErrorCode.BAD_REQUEST, msg);
      }
    }

