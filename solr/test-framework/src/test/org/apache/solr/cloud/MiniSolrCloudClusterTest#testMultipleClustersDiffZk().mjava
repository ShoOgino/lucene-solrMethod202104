  public void testMultipleClustersDiffZk() throws Exception {
    final MiniSolrCloudCluster x = new MiniSolrCloudCluster(1, createTempDir(), JettyConfig.builder().build());
    try {
      final MiniSolrCloudCluster y = new MiniSolrCloudCluster(1, createTempDir(), JettyConfig.builder().build());
      try {
        
        // sanity check we're not talking to ourselves
        assertNotSame(x.getZkServer(), y.getZkServer());
        assertNotEquals(x.getZkServer().getZkAddress(), y.getZkServer().getZkAddress());
        
        // baseline check
        assertEquals(1, x.getJettySolrRunners().size());
        assertZkHost("x", x.getZkServer().getZkAddress(), x.getJettySolrRunners().get(0));
        
        assertEquals(1, y.getJettySolrRunners().size());
        assertZkHost("y", y.getZkServer().getZkAddress(), y.getJettySolrRunners().get(0));
        
        // adding nodes should be isolated
        final JettySolrRunner j2x = x.startJettySolrRunner();
        assertZkHost("x2", x.getZkServer().getZkAddress(), j2x);
        assertEquals(2, x.getJettySolrRunners().size());
        assertEquals(1, y.getJettySolrRunners().size());
        
        final JettySolrRunner j2y = y.startJettySolrRunner();
        assertZkHost("y2", y.getZkServer().getZkAddress(), j2y);
        assertEquals(2, x.getJettySolrRunners().size());
        assertEquals(2, y.getJettySolrRunners().size());
      } finally {
        y.shutdown();
      }
    } finally {
      x.shutdown();
    }
  }

