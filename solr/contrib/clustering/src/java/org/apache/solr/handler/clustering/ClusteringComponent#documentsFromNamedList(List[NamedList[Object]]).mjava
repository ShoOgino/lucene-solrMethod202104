  private static List<InputDocument> documentsFromNamedList(List<NamedList<Object>> docList) {
    return docList.stream()
        .map(docProps -> {
          InputDocument doc = new InputDocument(
              docProps.get("id"),
              (String) docProps.get("language"));

          docProps.forEach((fieldName, value) -> {
            doc.addClusteredField(fieldName, (String) value);
          });
          doc.visitFields(docProps::add);
          return doc;
        })
        .collect(Collectors.toList());
  }

