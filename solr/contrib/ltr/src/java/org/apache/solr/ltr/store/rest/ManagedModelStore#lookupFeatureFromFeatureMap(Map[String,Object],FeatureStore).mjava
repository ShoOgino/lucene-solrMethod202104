  private static Feature lookupFeatureFromFeatureMap(Map<String, Object> featureMap, FeatureStore featureStore)
  {
    final String featureName = (String) featureMap.get(NAME_KEY);
    Feature extractedFromStore = featureName == null ? null : featureStore.get(featureName);
    if (extractedFromStore == null) {
      if (featureStore.getFeatures().isEmpty()) {
        throw new ModelException("Missing or empty feature store: " + featureStore.getName());
      } else {
        throw new ModelException("Feature: " + featureName + " not found in store: " + featureStore.getName());
      }
    }
    return extractedFromStore;
  }

