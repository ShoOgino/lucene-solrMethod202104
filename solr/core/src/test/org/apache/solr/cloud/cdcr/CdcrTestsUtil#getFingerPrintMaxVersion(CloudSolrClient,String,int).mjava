  protected static Object getFingerPrintMaxVersion(CloudSolrClient client, String shardNames, int numDocs) throws SolrServerException, IOException, InterruptedException {
    ModifiableSolrParams params = new ModifiableSolrParams();
    params.set(CommonParams.QT, "/get");
    params.set("fingerprint", true);
    params.set("shards", shardNames);
    params.set("getVersions", numDocs);

    QueryResponse response = null;
    long start = System.nanoTime();
    while (System.nanoTime() - start <= TimeUnit.NANOSECONDS.convert(20, TimeUnit.SECONDS)) {
      response = client.query(params);
      if (response.getResponse() != null && response.getResponse().get("fingerprint") != null) {
        return (long) ((LinkedHashMap) response.getResponse().get("fingerprint")).get("maxVersionEncountered");
      }
      Thread.sleep(200);
    }
    log.error("maxVersionEncountered not found for client : " + client + "in 20 attempts");
    return null;
  }

