  private static Node getNode(Document doc, String path) {
    // Copied from solr-core XmlConfigFile.getNode with simplifications
    XPath xpath = xpathFactory.newXPath();
    String xstr = path; //normalize(path);

    try {
      NodeList nodes = (NodeList) xpath.evaluate(xstr, doc,
          XPathConstants.NODESET);
      if (nodes == null || 0 == nodes.getLength()) {
        return null;
      }
      if (1 < nodes.getLength()) {
        throw new RuntimeException("more than one value");
      }
      return nodes.item(0);
    } catch (Exception e) {
      throw new RuntimeException("Error in xpath:" + xstr, e);
    }
  }

