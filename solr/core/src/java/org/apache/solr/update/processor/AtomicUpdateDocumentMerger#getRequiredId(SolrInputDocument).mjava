  private String getRequiredId(SolrInputDocument sdoc) {
    String id = schema.printableUniqueKey(sdoc);
    if (id == null) {
      throw new IllegalStateException("partial updates require that docs have an ID");
    }
    return id;
  }

