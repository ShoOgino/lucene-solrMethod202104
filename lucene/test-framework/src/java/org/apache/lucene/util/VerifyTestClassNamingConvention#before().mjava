  @Override
  protected void before() throws Exception {
    if (TestRuleIgnoreTestSuites.isRunningNested()) {
      // Ignore nested test suites that test the test framework itself.
      return;
    }

    String suiteName = RandomizedContext.current().getTargetClass().getName();

    Matcher matcher = namingConvention.matcher(suiteName);
    if (suiteName.startsWith(packagePrefix) && !matcher.matches()) {
      throw new AssertionError(
          packagePrefix
              + " suite must follow "
              + namingConvention
              + " naming convention: "
              + suiteName);
    }
  }

