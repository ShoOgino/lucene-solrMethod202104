  /** Register a metric name that this component reports. This method is called by various
   * metric registration methods in {@link org.apache.solr.metrics.SolrMetricManager} in order
   * to capture what metric names are reported from this component (which in turn is called
   * from {@link org.apache.solr.metrics.SolrMetricProducer#initializeMetrics(SolrMetricsContext, String)}).
   * <p>Default implementation registers all metrics added by a component. Implementations may
   * override this to avoid reporting some or all metrics returned by {@link #getMetricsSnapshot()}</p>
   */
  default void registerMetricName(String name) {
    Set<String> names = getMetricNames();
    if (names != null) {
      names.add(name);
    }
  }

