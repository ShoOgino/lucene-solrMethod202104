  private boolean checkLastCompoundPart(
      char[] wordChars, int start, int length, List<IntsRef> words) {
    IntsRef forms = dictionary.lookupWord(wordChars, start, length);
    if (forms == null) return false;

    words.add(forms);
    boolean result = dictionary.compoundRules.stream().anyMatch(r -> r.fullyMatches(words));
    words.remove(words.size() - 1);
    return result;
  }

