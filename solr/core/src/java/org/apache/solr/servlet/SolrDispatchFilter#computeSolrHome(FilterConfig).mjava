  /**
   * Returns the effective Solr Home to use for this node
   */
  private static Path computeSolrHome(FilterConfig config) {
    final String solrHome = (String) config.getServletContext().getAttribute(SOLRHOME_ATTRIBUTE);
    return (solrHome == null ? SolrPaths.locateSolrHome() : Paths.get(solrHome));
  }

