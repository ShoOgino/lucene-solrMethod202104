  public void shutdown() throws IOException, InterruptedException {
    // TODO: this can log an exception while trying to unregister a JMX MBean
    zkServer.shutdown();
    try {
      zooThread.join();
    } catch (NullPointerException e) {
      // okay
    }
  }

