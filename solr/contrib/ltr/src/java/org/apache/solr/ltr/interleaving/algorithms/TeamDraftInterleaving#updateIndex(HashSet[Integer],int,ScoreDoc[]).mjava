  private int updateIndex(HashSet<Integer> alreadyAdded, int index, ScoreDoc[] reranked) {
    boolean foundElementToAdd = false;
    while (index < reranked.length && !foundElementToAdd) {
      ScoreDoc elementToCheck = reranked[index];
      if (alreadyAdded.contains(elementToCheck.doc)) {
        index++;
      } else {
        foundElementToAdd = true;
      }
    }
    return index;
  }

