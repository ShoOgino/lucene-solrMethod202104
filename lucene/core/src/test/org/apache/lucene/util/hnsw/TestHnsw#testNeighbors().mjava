    public void testNeighbors() {
        // make sure we have the sign correct
        Neighbors nn = Neighbors.create(2, false);
        Neighbor a = new Neighbor(1, 10);
        Neighbor b = new Neighbor(2, 20);
        Neighbor c = new Neighbor(3, 30);
        assertNull(nn.insertWithOverflow(b));
        assertNull(nn.insertWithOverflow(a));
        assertSame(a, nn.insertWithOverflow(c));
        assertEquals(20, (int) nn.top().score());
        assertEquals(20, (int) nn.pop().score());
        assertEquals(30, (int) nn.top().score());
        assertEquals(30, (int) nn.pop().score());

        Neighbors fn = Neighbors.create(2, true);
        assertNull(fn.insertWithOverflow(b));
        assertNull(fn.insertWithOverflow(a));
        assertSame(c, fn.insertWithOverflow(c));
        assertEquals(20, (int) fn.top().score());
        assertEquals(20, (int) fn.pop().score());
        assertEquals(10, (int) fn.top().score());
        assertEquals(10, (int) fn.pop().score());
    }

