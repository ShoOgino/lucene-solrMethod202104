  /**
   * Tests that we can add a prefix to the synonym (for example, to keep it from ever matching user
   * input directly), and test that we can ignore a list of type values we don't wish to turn into
   * synonyms.
   */
  public void testWithPrefixAndIgnore() throws Exception {
    Token[] tokens =
        new Token[] {
          new Token("foo", 1, 3), new Token("foo", 5, 7), new Token("foo", 9, 11),
        };
    tokens[0].setType("bar");
    tokens[2].setType("ignoreme");
    TokenStream ts = new CannedTokenStream(tokens);
    ts = new TypeAsSynonymFilter(ts, "pfx_", Set.of("word", "ignoreme"), 0);

    assertTokenStreamContents(
        ts,
        new String[] {"foo", "pfx_bar", "foo", "foo"},
        new int[] {1, 1, 5, 9},
        new int[] {3, 3, 7, 11},
        new int[] {1, 0, 1, 1});
  }

