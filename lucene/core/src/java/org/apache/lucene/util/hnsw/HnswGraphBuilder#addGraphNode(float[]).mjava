  /** Inserts a doc with vector value to the graph */
  void addGraphNode(float[] value) throws IOException {
    NeighborQueue candidates = HnswGraph.search(value, beamWidth, beamWidth, vectorValues, hnsw, random);

    int node = hnsw.addNode();

    // connect neighbors to the new node, using a diversity heuristic that chooses successive
    // nearest neighbors that are closer to the new node than they are to the previously-selected
    // neighbors
    addDiverseNeighbors(node, candidates, buildVectors);
  }

