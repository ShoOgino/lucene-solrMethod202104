  public long getPosition() {
    return ((long) blocks.size() - 1) * blockSize + nextWrite;
  }

