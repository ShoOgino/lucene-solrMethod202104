  public void testFirstPatternWins() throws IOException {
    Token tokenA1 = new Token("One", 0, 2);
    Token tokenA3 = new Token("forty-two", 11, 13);
    Token tokenB1 = new Token("4-2", 15, 19);

    TokenStream ts = new CannedTokenStream(tokenA1, tokenA3, tokenB1);

    //2 ^(\d+)\(?([a-z])\)?$ ::: legal2_$1_$2
    PatternTypingRule p1 = new PatternTypingRule(Pattern.compile("^(\\d+)-(\\d+)$"), 6, "$1_hnum_$2");
    PatternTypingRule p2 = new PatternTypingRule(Pattern.compile("^(\\w+)-(\\w+)$"), 2, "$1_hword_$2");

    ts = new PatternTypingFilter(ts, p1,p2); // 101

    assertTokenStreamContents(ts, new String[]{
            "One", "forty-two", "4-2"}, null, null,
        new String[]{"word", "forty_hword_two", "4_hnum_2"},
        null, null, null, null, null, false, null,
        new int[]{0, 2, 6});
  }

