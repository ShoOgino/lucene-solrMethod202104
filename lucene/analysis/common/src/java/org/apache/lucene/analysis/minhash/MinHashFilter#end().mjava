  @Override
  public void end() throws IOException {
    if (!exhausted) {
      input.end();
    }

    restoreState(endState);
  }

