  /** Visits all docIDs and packed values in a single leaf block */
  public void visitLeafBlockValues(IndexTree index, IntersectState state) throws IOException {

    // Leaf node; scan and filter all points in this block:
    int count = readDocIDs(state.in, index.getLeafBlockFP(), state.scratchIterator);

    // Again, this time reading values and checking with the visitor
    visitDocValues(
        state.commonPrefixLengths,
        state.scratchDataPackedValue,
        state.scratchMinIndexPackedValue,
        state.scratchMaxIndexPackedValue,
        state.in,
        state.scratchIterator,
        count,
        state.visitor);
  }

