  public MetricsQueryTemplate(String name, String template, String defaultType) {
    Objects.requireNonNull(name, "jq template must have a name");
    Objects.requireNonNull(template, "jq template is required");

    this.name = name;
    this.template = template.replaceAll("\\s+", " ").trim();
    if (this.template.isEmpty()) {
      throw new IllegalArgumentException("jq template must not be empty");
    }
    this.defaultType = defaultType != null ? defaultType : "GAUGE";
  }

