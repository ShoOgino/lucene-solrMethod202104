  private static String getBaseUrl(ZkNodeProps nodeProps) {
    String baseUrl = null;
    final String nodeName = nodeProps.getStr(ZkStateReader.NODE_NAME_PROP);
    if (nodeName != null) {
      baseUrl = UrlScheme.INSTANCE.getBaseUrlForNodeName(nodeName);
    } else if (nodeProps.containsKey(ZkStateReader.BASE_URL_PROP)) {
      baseUrl = UrlScheme.INSTANCE.applyUrlScheme(nodeProps.getStr(ZkStateReader.BASE_URL_PROP));
    }
    return baseUrl;
  }

