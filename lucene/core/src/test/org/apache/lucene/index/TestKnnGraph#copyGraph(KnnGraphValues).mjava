  int[][] copyGraph(KnnGraphValues values) throws IOException {
    int size = values.size();
    int[][] graph = new int[size][];
    int[] scratch = new int[maxConn];
    for (int node = 0; node < size; node++) {
      int n, count = 0;
      values.seek(node);
      while ((n = values.nextNeighbor()) != NO_MORE_DOCS) {
        scratch[count++] = n;
        // graph[node][i++] = n;
      }
      graph[node] = ArrayUtil.copyOfSubArray(scratch, 0, count);
    }
    return graph;
  }

