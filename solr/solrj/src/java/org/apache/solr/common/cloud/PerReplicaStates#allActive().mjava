  /** Check and return if all replicas are ACTIVE
   */
  public boolean allActive() {
    if (this.allActive != null) return allActive;
    boolean[] result = new boolean[]{true};
    states.forEachEntry((r, s) -> {
      if (s.state != Replica.State.ACTIVE) result[0] = false;
    });
    return this.allActive = result[0];
  }

