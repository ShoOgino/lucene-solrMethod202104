  /**
   * If either value is NaN then return the other value, otherwise
   * return the greater of the two values by calling Math.max.
   * @param a - one value
   * @param b - another value
   * @return ignoring any NaN return the greater of a and b
   */
  private static float nonNANmax(float a, float b) {
    if (Float.isNaN(a)) return b;
    if (Float.isNaN(b)) return a;
    return Math.max(a, b);
  }

