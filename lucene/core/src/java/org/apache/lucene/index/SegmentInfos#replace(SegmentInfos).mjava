  /**
   * Replaces all segments in this instance, but keeps generation, version, counter so that future
   * commits remain write once.
   */
  void replace(SegmentInfos other) {
    rollbackSegmentInfos(other.asList());
    lastGeneration = other.lastGeneration;
  }

