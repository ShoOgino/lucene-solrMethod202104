  @Override
  public void doTest() throws Exception {
    waitForThingsToLevelOut(30000);

    // test a 1x2 collection
    testRf2();

    // now do similar for a 1x3 collection while taking 2 replicas on-and-off
    // each time
    testRf3();

    // kill a leader and make sure recovery occurs as expected
    testRf3WithLeaderFailover();
  }

