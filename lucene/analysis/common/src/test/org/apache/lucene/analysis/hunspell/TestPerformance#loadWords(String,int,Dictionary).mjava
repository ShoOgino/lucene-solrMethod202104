  private List<String> loadWords(String code, int wordCount, Dictionary dictionary)
      throws IOException {
    String corpusDir = System.getProperty("hunspell.corpora");
    Assume.assumeFalse("", corpusDir == null);

    Path dataPath = Path.of(corpusDir).resolve(code + ".txt");
    List<String> words = new ArrayList<>();
    try (InputStream stream = Files.newInputStream(dataPath)) {
      BufferedReader reader =
          new BufferedReader(new InputStreamReader(stream, StandardCharsets.UTF_8));
      while (true) {
        String line = reader.readLine();
        if (line == null) break;

        for (String token : line.split("[^a-zA-Z" + Pattern.quote(dictionary.wordChars) + "]+")) {
          String word = stripPunctuation(token);
          if (word != null) {
            words.add(word);
            if (words.size() == wordCount) {
              return words;
            }
          }
        }
      }
    }
    return words;
  }

